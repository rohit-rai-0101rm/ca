(()=>{"use strict";var e={865:(e,t)=>{var r;t.__esModule=!0,t.Zone=t.GDPR_PURPOSE_CONSENTS=t.HAS_CONSENT_EVENT=void 0,t.HAS_CONSENT_EVENT="has_concent_event",t.GDPR_PURPOSE_CONSENTS=[1,3,4],(r=t.Zone||(t.Zone={})).Default="all",r.EuZone1="euZone1",r.EuZone2="euZone2"},920:(e,t,r)=>{t.__esModule=!0;var n=r(865);t.default={zone:n.Zone.Default}},778:(e,t)=>{t.__esModule=!0,t.API_NAME=t.GDPR_CALL_ID=t.GDPR_VENDOR_ID=t.DOMAIN_URL_PARAMETER_NAME=t.NO_CLICK_ID_COOKIE_NAME=t.CLICK_ID_COOKIE_NAME=t.CLICK_ID_URL_PARAM=t.CLICK_ID_REDIRECTOR_URL_PARAM=t.PAGE_VIEW_NAME=t.BASE_URL=void 0,t.BASE_URL="//tr.outbrain.com",t.PAGE_VIEW_NAME="PAGE_VIEW",t.CLICK_ID_REDIRECTOR_URL_PARAM="",t.CLICK_ID_URL_PARAM="dicbo",t.CLICK_ID_COOKIE_NAME="outbrain_click_id",t.NO_CLICK_ID_COOKIE_NAME="outbrain_cid_fetch",t.DOMAIN_URL_PARAMETER_NAME="ob_cvr_pixel_domain",t.GDPR_VENDOR_ID=164,t.GDPR_CALL_ID="obamplify",t.API_NAME="obApi"},368:function(e,t,r){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};t.__esModule=!0,t.transformMarketerId=t.runQ=t.logger=t.decorate=t.dummyFunc=t.isArray=t.removeEmptyProperties=t.getObjectWithoutProperties=t.isInIframe=t.getRandomInt=t.version=void 0;var o=r(341),i=r(778);t.version="2.0.5",t.getRandomInt=function(){return Math.random().toString().replace(".","")},t.isInIframe=function(){try{return window.self!==window.top}catch(e){return!0}},t.getObjectWithoutProperties=function(e,t){var r=n({},e);for(var o in r)t.indexOf(o)>-1&&delete r[o];return r},t.removeEmptyProperties=function(e){var t=n({},e);for(var r in t)null!==t[r]&&void 0!==t[r]&&""!==t[r]||delete t[r];return t},t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.dummyFunc=function(){},t.decorate=function(e,t,r){var n=e[t];e[t]=function(){var e=n.apply(this,arguments);return r.apply(this,arguments),e}},t.logger=function(e,r,n){(window.postMessage||t.dummyFunc)({action:"log",type:e,message:r,name:n?n.replace(/ /g,"-"):""},"*")},t.runQ=function(){for(var e=!1;o.apiObj.queue.length;){var t=o.apiObj.queue.shift();if(t[1]===i.PAGE_VIEW_NAME&&!t[2]){if(e)continue;e=!0}o.apiObj.dispatch.apply(o.apiObj,t)}},t.transformMarketerId=function(e){if(e)return(0,t.isArray)(e)?e:e.replace(" ","").split(",")}},894:(e,t)=>{t.__esModule=!0,t.getBaseUrl=t.logError=void 0,t.logError=function(e,t){(new Image).src="//tr.outbrain.com/log?apiObjVersion="+t.version+"&obtpVersion="+t.obtpVersion+"&msg="+encodeURIComponent('{"error":"LOAD", "apiObjVersion": '+t.version+', "marketerID": '+t.marketerId+', "referrer": '+document.referrer+', "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')},t.getBaseUrl=function(){return"//tr.outbrain.com/unifiedPixel?"}},341:(e,t,r)=>{t.__esModule=!0,t.zone=t.apiObj=void 0;var n=r(261),o=r(859),i=r(368),a=r(894),s=r(599),c=r(920);t.zone=window.__$$OBGeoZone||c.default.zone;try{t.apiObj=new n.ApiService(window).apiObj,new o.HistoryObserverService,(0,i.runQ)(),new s.KickstartService}catch(e){(0,a.logError)(e,t.apiObj)}},857:(e,t)=>{var r;t.__esModule=!0,t.LOG_TYPES=t.CONTENT_TYPE=void 0,(t.CONTENT_TYPE||(t.CONTENT_TYPE={})).Product="product",(r=t.LOG_TYPES||(t.LOG_TYPES={})).Log="log",r.Warning="warning",r.Info="info",r.Error="error"},994:(e,t,r)=>{t.__esModule=!0,t.gdprCcpaValidator=t.GDPRCcpaValidator=void 0;var n=r(341),o=r(865),i=function(){function e(){}return e.prototype.hasConsent=function(){return window.__uspapi&&"function"==typeof window.__uspapi},e.prototype.handleConsent=function(e){window.__uspapi("getUSPData",1,(function(t,r){if(t.uspString)r&&"1YYN"!==t.uspString.toUpperCase()&&"1NYN"!==t.uspString.toUpperCase()?e(!0):e(!1);else{var i=n.zone===o.Zone.Default;e(i)}}))},e}();t.GDPRCcpaValidator=i,t.gdprCcpaValidator=new i},471:(e,t,r)=>{t.__esModule=!0,t.gdprTcf1ValidatorService=t.GDPRTcf1ValidatorService=void 0;var n=r(778),o=r(341),i=r(865),a=function(){function e(){}return e.prototype.hasConsent=function(){return!!window.__cmp||!!this.getCmpFrame()},e.prototype.handleConsent=function(e){this.cb=e,this.callCmp(this.callback)},e.prototype.getCmpFrame=function(){var e=window;try{for(;e&&!e.frames.__cmpLocator;){if(e===window.top)return;e=e.parent}return e}catch(e){}},e.prototype.callback=function(){window.removeEventListener?window.removeEventListener("message",this.postMsgCB.bind(this),!1):window.detachEvent&&window.detachEvent("message",this.postMsgCB.bind(this),!1),this.cb.apply(this.cb,arguments)},e.prototype.postMsgCB=function(e){var t;try{t=e&&"string"==typeof e.data?JSON.parse(e.data):e.data}catch(e){var r=o.zone===i.Zone.Default;this.callback.apply(this.callback,[r])}t&&t.__cmpReturn&&this.onCmpCB(this.callback,t.__cmpReturn.returnValue,t.__cmpReturn.success)},e.prototype.callCmp=function(e){if("function"==typeof window.__cmp){var t=this;window.__cmp("getVendorConsents",[n.GDPR_VENDOR_ID],(function(r,n){t.onCmpCB(e.bind(t),r,n)}))}else{var r=this.getCmpFrame();if(window.addEventListener?window.addEventListener("message",this.postMsgCB,!1):window.attachEvent&&window.attachEvent("message",this.postMsgCB,!1),!r)return void this.callback.apply(this.callback,[{msg:"CMP not found"},!1]);var o={__cmpCall:{command:"getVendorConsents",parameter:[n.GDPR_VENDOR_ID],callId:n.GDPR_CALL_ID}};r.postMessage(o,"*")}},e.prototype.hasPurposeConsent=function(e){if(!e)return!0;var t=!0;for(var r in e)if(e.hasOwnProperty(r)&&(t=!1,e[r]))return!0;return t},e.prototype.onCmpCB=function(e,t,r){if((!r||!t||!t.vendorConsents||void 0===t.vendorConsents[n.GDPR_VENDOR_ID]||!0===t.vendorConsents[n.GDPR_VENDOR_ID])&&this.hasPurposeConsent(t.purposeConsents))return e(!0);e(!1)},e}();t.GDPRTcf1ValidatorService=a,t.gdprTcf1ValidatorService=new a},677:(e,t,r)=>{t.__esModule=!0,t.gdprTcf2ValidatorService=t.GDPRTcf2ValidatorService=void 0;var n=r(778),o=r(865),i=function(){function e(){}return e.prototype.hasConsent=function(){return!!window.__tcfapi||!!this.getTCF2Window()},e.prototype.handleConsent=function(e){if(this.cb=e,window.__tcfapi)window.__tcfapi("addEventListener",2,this.onTCFChanges.bind(this)),window.__tcfapi("getTCData",2,this.onTCFChanges.bind(this),[n.GDPR_VENDOR_ID]);else{var t=this.getTCF2Window();window.addEventListener?window.addEventListener("message",this.postMsgCB.bind(this),!1):window.attachEvent&&window.attachEvent("message",this.postMsgCB.bind(this),!1);var r={__tcfapiCall:{command:"getTCData",parameter:[n.GDPR_VENDOR_ID],version:2,callId:n.GDPR_CALL_ID}};t.postMessage(r,"*")}},e.prototype.hasPurposeConsent=function(e){if(!(null==e?void 0:e.consents))return!0;var t=e.consents,r=o.GDPR_PURPOSE_CONSENTS,n=!0;return r.forEach((function(e){t.hasOwnProperty(e)&&!1===t[e]&&(n=!1)})),n},e.prototype.postMsgCB=function(e){e.data.__tcfapiReturn&&e.data.__tcfapiReturn.callId===n.GDPR_CALL_ID&&this.onTCFCB(e.data.__tcfapiReturn.returnValue,!0)},e.prototype.onTCFCB=function(e,t){t&&"tcloaded"===e.eventStatus?(e&&e.vendor&&e.vendor.consents&&!1===e.vendor.consents[n.GDPR_VENDOR_ID]||!e||!this.hasPurposeConsent(e.purpose)?this.cb(!1):this.cb(!0),window.__tcfapi("removeEventListener",2,this.onTCFChanges.bind(this))):this.cb(!0)},e.prototype.onTCFChanges=function(e,t){this.onTCFCB(e,t)},e.prototype.getTCF2Window=function(){var e=window;try{for(;e&&!e.frames.__tcfapiLocator;){if(e===window.top)return;e=e.parent}return e}catch(e){}},e}();t.GDPRTcf2ValidatorService=i,t.gdprTcf2ValidatorService=new i},895:(e,t,r)=>{t.__esModule=!0,t.gdprValidatorService=t.GDPRValidatorService=void 0;var n=r(471),o=r(677),i=r(994),a=r(341),s=r(865),c=function(){function e(){}return e.prototype.checkHasConsent=function(e){this.cb=e;var t=a.zone===s.Zone.Default;try{this.timeout=setTimeout((function(){e(t)}),500),n.gdprTcf1ValidatorService.hasConsent()?n.gdprTcf1ValidatorService.handleConsent(this.clearAndCallback.bind(this)):o.gdprTcf2ValidatorService.hasConsent()?o.gdprTcf2ValidatorService.handleConsent(this.clearAndCallback.bind(this)):i.gdprCcpaValidator.hasConsent()?i.gdprCcpaValidator.handleConsent(this.clearAndCallback.bind(this)):this.clearAndCallback.call(this,t)}catch(e){throw this.clearAndCallback.call(this,t),e}},e.prototype.clearAndCallback=function(){clearTimeout(this.timeout),this.cb.apply(null,arguments)},e}();t.GDPRValidatorService=c,t.gdprValidatorService=new c},261:(e,t,r)=>{t.__esModule=!0,t.ApiService=void 0;var n=r(368),o=r(896),i=r(778);t.ApiService=function(e){var t=function(){e[i.API_NAME].dispatch.apply(e[i.API_NAME],arguments)};t.version=e[i.API_NAME].version,t.loaded=e[i.API_NAME].loaded,t.marketerId=(0,n.transformMarketerId)(e[i.API_NAME].marketerId),t.queue=e[i.API_NAME].queue;var r=new o.DispatcherService;t.dispatch=r.dispatch.bind(r),t.addMarketer=function(e){t.marketerId=t.marketerId.concat((0,n.transformMarketerId)(e))},e[i.API_NAME]=t,e[i.API_NAME].obtpVersion=n.version,this.apiObj=e[i.API_NAME]}},63:(e,t,r)=>{t.__esModule=!0,t.cookiesService=t.CookiesService=void 0;var n=r(388),o=r(865),i=function(){function e(e){this.cookiesToProcess=[];var t=this;e.on(o.HAS_CONSENT_EVENT,(function(e){if(t.hasConsent=e,t.hasConsent)for(;t.cookiesToProcess.length;){var r=t.cookiesToProcess.pop();t.set(r.name,r.value,r.expirationInDays,r.domain)}}))}return e.prototype.set=function(e,t,r,n){if(this.hasConsent){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3);var i="expires="+o.toUTCString(),a=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; "+i+"; path=/;";n&&(a+="domain="+n+";"),document.cookie=a}else this.cookiesToProcess.push({name:e,value:t,expirationInDays:r,domain:n})},e.prototype.get=function(e){if(!document.cookie)return"";var t="";try{t=decodeURIComponent(document.cookie)}catch(e){}var r=t.indexOf(e+"=");if(r<0)return"";var n=r+(e+"=").length,o=t.indexOf(";",n),i=o>0?o:document.cookie.length;return t.substring(n,i)},e}();t.CookiesService=i,t.cookiesService=new i(n.eventBusService)},896:(e,t,r)=>{t.__esModule=!0,t.DispatcherService=void 0;var n=r(368),o=r(466),i=r(857),a=r(3),s=r(63),c=r(341),d=r(895),p=r(388),u=r(865),l=r(778),_=r(894),v=function(){function e(){this.hasConsent=!1,this.pixelsWaitingForConsent=[],this.hasConsentCalled=!1,this.isCheckConsentRespond=!1}return e.prototype.firePixel=function(e){if(this.isCheckConsentRespond)return this.fire(e,this.hasConsent);if(this.pixelsWaitingForConsent.push(e),!this.hasConsentCalled){this.hasConsentCalled=!0;var t=this;d.gdprValidatorService.checkHasConsent((function(e){for(t.isCheckConsentRespond=!0,t.hasConsent=!!e,p.eventBusService.dispatch(u.HAS_CONSENT_EVENT,t.hasConsent);t.pixelsWaitingForConsent.length>0;)t.fire(t.pixelsWaitingForConsent.shift(),t.hasConsent)}))}},e.prototype.fire=function(e,t){this.fireUnifiedPixel(e,t)},e.prototype.fireUnifiedPixel=function(e,t){var r=this.clone(e);delete r.content,delete r.contentType,r.optOut=t?"false":"true";var o=this.getClickIdCookieCached();o&&(r.ob_click_id=o),(new Image).src=(0,_.getBaseUrl)()+this.buildParams(r)+"&bust="+(0,n.getRandomInt)()+"&referrer="+encodeURIComponent(document.referrer)},e.prototype.buildParams=function(e){var t=["dl","name"],r=[];for(var n in e)e.hasOwnProperty(n)&&(t.indexOf(n)>-1?r.push(n+"="+encodeURIComponent(e[n])):r.push(n+"="+e[n]));return r.join("&")},e.prototype.dispatch=function(){var e=arguments;if(!e[1])throw new Error("can't dispatch pixel, event name is missing");var t=e[0],r=e[2]&&"object"==typeof e[2]?e[2]:{};!1===(0,n.isArray)(c.apiObj.marketerId)&&(c.apiObj.marketerId=[c.apiObj.marketerId]);var s=this.unique(c.apiObj.marketerId),d={};for(var p in r)d[p]=r[p];d.marketerId=s.toString(),d.apiObjVersion=c.apiObj.version,d.obtpVersion=c.apiObj.obtpVersion,d.name=e[1].replace(/ /g,"-"),d.dl=a.urlService.getLocation(),"track"===t?(o.validatorService.validate(d),this.firePixel(d)):(0,n.logger)(i.LOG_TYPES.Error,"Command type "+t+" is not recognized",d.name)},e.prototype.unique=function(e){for(var t=[],r={},n=0;n<e.length;n++)r[e[n]]||t.push(e[n]),r[e[n]]=!0;return t},e.prototype.clone=function(e){var t={};for(var r in e)t[r]=e[r];return t},e.prototype.getClickIdCookieCached=function(){var e,t=a.urlService.getParamFromUrl(l.DOMAIN_URL_PARAMETER_NAME),r=a.urlService.getParamFromUrl(l.CLICK_ID_URL_PARAM);return r?(s.cookiesService.set(l.CLICK_ID_COOKIE_NAME,r,1,t),e=r):e=s.cookiesService.get(l.CLICK_ID_COOKIE_NAME),e},e}();t.DispatcherService=v},388:function(e,t){var r=this&&this.__spreadArray||function(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};t.__esModule=!0,t.eventBusService=t.EventBusService=void 0;var n=function(){function e(){this.listeners={}}return e.prototype.on=function(e,t){var r=this;return-1===Object.keys(this.listeners).indexOf(e)&&(this.listeners[e]=[]),this.listeners[e].push(t),function(){r.listeners[e]=r.listeners[e].filter((function(e){return e!=t}))}},e.prototype.dispatch=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];-1!==Object.keys(this.listeners).indexOf(e)&&this.listeners[e].forEach((function(e){return e.call.apply(e,r([null],t,!1))}))},e}();t.EventBusService=n,t.eventBusService=new n},859:(e,t,r)=>{t.__esModule=!0,t.HistoryObserverService=void 0;var n=r(341),o=r(368),i=r(778);t.HistoryObserverService=function(){if(history.pushState&&history.replaceState&&window.addEventListener){var e=this,t=function(t){location.href!==e.lastVisited&&t&&(e.lastVisited=location.href,(0,n.apiObj)("track",i.PAGE_VIEW_NAME))};(0,o.decorate)(history,"pushState",t),(0,o.decorate)(history,"replaceState",t),window.addEventListener("popstate",t,!1)}}},599:(e,t,r)=>{t.__esModule=!0,t.KickstartService=void 0;var n=r(368),o=r(341),i=r(63),a=r(3),s=r(778);t.KickstartService=function(){var e;i.cookiesService.get(s.CLICK_ID_COOKIE_NAME)||i.cookiesService.get(s.NO_CLICK_ID_COOKIE_NAME)||a.urlService.getParamFromUrl(s.CLICK_ID_URL_PARAM)||(o.apiObj.setCachedClickId=(n.runQ,(e=document.createElement("script")).src=s.BASE_URL+"/cachedClickId?marketerId="+((0,n.isArray)(o.apiObj.marketerId)?o.apiObj.marketerId.join(","):o.apiObj.marketerId),document.body.appendChild(e),function(e){if("optout"!==e)if("NoClickId"===e)i.cookiesService.set(s.NO_CLICK_ID_COOKIE_NAME,!0,5/1440);else{var t=a.urlService.getParamFromUrl(s.DOMAIN_URL_PARAMETER_NAME);i.cookiesService.set(s.CLICK_ID_COOKIE_NAME,e,1,t)}}))}},3:(e,t)=>{t.__esModule=!0,t.urlService=t.UrlService=void 0;var r=function(){function e(){}return e.prototype.getParamFromUrl=function(e){var t=this.getLocation();t.indexOf("#")>-1&&(t=t.substring(0,t.indexOf("#")));for(var r=(t.split("?")[1]||"").split(/&/),n=0;n<r.length;n++)if(this.startsWith(r[n],e))return this.getParamValue(r[n]);return""},e.prototype.getLocation=function(){var e="";try{e=window.top.location.href||document.location.href}catch(t){e=document.location.href}return e||""},e.prototype.startsWith=function(e,t){return 0===e.indexOf(t+"=")},e.prototype.getParamValue=function(e){return e.split("=")[1].split("#")[0]},e}();t.UrlService=r,t.urlService=new r},466:(e,t,r)=>{t.__esModule=!0,t.validatorService=t.ValidatorService=void 0;var n=r(857),o=r(368),i=r(778),a=function(){function e(){this.validCurrencies=["USD","CAD","EUR","GBP","ILS","AUD","MXN","BRL","SEK","SGD","RUB","NZD","INR","JPY","PHP","CHF"],this.validNameRegX=new RegExp("^[A-Za-z0-9]+[A-Za-z0-9-]*$"),this.validNumber=new RegExp("^[0-9]+[.0-9]*$"),this.validNameLength=100}return e.prototype.validate=function(e){return e.content&&e.content.id,e.orderValue&&!e.currency?((0,o.logger)(n.LOG_TYPES.Warning,"Order value reported but no currency is declared",e.name),!1):e.currency&&-1===this.validCurrencies.indexOf(e.currency)?((0,o.logger)(n.LOG_TYPES.Warning,"Currency not recognized",e.name),!1):e.orderValue&&!this.validNumber.test(e.orderValue)?((0,o.logger)(n.LOG_TYPES.Warning,"Order value can only be a positive number",e.name),!1):e.name===i.PAGE_VIEW_NAME||this.validNameRegX.test(e.name)?!(e.name!==i.PAGE_VIEW_NAME&&e.name.length>this.validNameLength&&((0,o.logger)(n.LOG_TYPES.Warning,"Event name length cannot exceed 100 characters",e.name),1)):((0,o.logger)(n.LOG_TYPES.Warning,"Event Name invalid",e.name),!1)},e}();t.ValidatorService=a,t.validatorService=new a}},t={};!function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}(341)})();